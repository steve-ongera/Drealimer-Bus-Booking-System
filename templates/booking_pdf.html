<!-- booking_app/templates/booking_app/booking_pdf.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Bus Ticket - {{ booking.booking_id }}</title>
</head>
<body>
    <div class="receipt-container">
        <!-- Header -->
        <div class="receipt-header">
            <div class="company-name">{{ company_info.name }}</div>
            <div class="receipt-title">BUS TICKET RECEIPT</div>
            <div class="booking-id">{{ booking.booking_id }}</div>
            <div class="barcode">||||| {{ booking.booking_id }} |||||</div>
        </div>

        <!-- Body -->
        <div class="receipt-body">
            <!-- Left Column -->
            <div class="column">
                <div class="info-line">
                    <span class="label">ROUTE:</span>
                    <span class="value">{{ booking.trip.route }}</span>
                </div>
                <div class="info-line">
                    <span class="label">BUS:</span>
                    <span class="value">{{ booking.trip.bus.number_plate }}</span>
                </div>
                <div class="info-line">
                    <span class="label">COMPANY:</span>
                    <span class="value">{{ booking.trip.bus.company.name }}</span>
                </div>
                <div class="section-divider"></div>
                
                <div class="info-line">
                    <span class="label">DEPARTURE:</span>
                    <span class="value">{{ booking.trip.departure_time|date:"d/m/y H:i" }}</span>
                </div>
                <div class="info-line">
                    <span class="label">PICKUP:</span>
                    <span class="value">{{ booking.pickup_location.name|truncatechars:12 }}</span>
                </div>
                <div class="info-line">
                    <span class="label">DROP-OFF:</span>
                    <span class="value">{{ booking.dropoff_location.name|truncatechars:12 }}</span>
                </div>
                
                <div class="seats">
                    SEATS: {% for seat in booking.booked_seats.all %}{{ seat.seat.seat_number }}{% if not forloop.last %}, {% endif %}{% endfor %}
                </div>
            </div>

            <!-- Right Column -->
            <div class="column">
                <div class="info-line">
                    <span class="label">PASSENGER:</span>
                    <span class="value">{{ booking.passenger_name|truncatechars:15 }}</span>
                </div>
                <div class="info-line">
                    <span class="label">PHONE:</span>
                    <span class="value">{{ booking.passenger_phone }}</span>
                </div>
                <div class="info-line">
                    <span class="label">ID NO:</span>
                    <span class="value">{{ booking.passenger_id_number }}</span>
                </div>
                <div class="section-divider"></div>
                
                <div class="info-line">
                    <span class="label">BOOKED:</span>
                    <span class="value">{{ booking.created_at|date:"d/m/y H:i" }}</span>
                </div>
                <div class="info-line">
                    <span class="label">STATUS:</span>
                    <span class="value">
                        <span class="status">{{ booking.get_status_display }}</span>
                    </span>
                </div>
                {% if booking.mpesa_transaction_id %}
                <div class="info-line">
                    <span class="label">MPESA:</span>
                    <span class="value">{{ booking.mpesa_transaction_id|truncatechars:10 }}</span>
                </div>
                {% endif %}
                
                <div class="total-line">
                    TOTAL: KSh {{ booking.total_amount|floatformat:0 }}
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div>ARRIVE 30 MIN EARLY • CARRY VALID ID • {{ company_info.phone }}</div>
            <div>Generated: {{ "now"|date:"d/m/Y H:i" }} | Valid travel document</div>
        </div>
    </div>
</body>
</html>